{% extends "base.html" %}
{% block content %}
<div class="actions">
  <form method="GET" action="{{ url_for('index') }}" class="search-form">
    <input type="text" name="q" placeholder="Search by name, phone or email" value="{{ q|default('') }}">
    <button type="submit">Search</button>
  </form>

  <a class="btn primary" href="{{ url_for('add_contact') }}">+ Add Contact</a>
</div>

{% if contacts %}
  <div class="list">
    {% for c in contacts %}
      <div class="card">
        <div class="card-left">
          <div class="name">{{ c['name'] }}</div>
          <div class="meta">ğŸ“ {{ c['phone'] or '-' }} &nbsp; | &nbsp; âœ‰ï¸ {{ c['email'] or '-' }}</div>
        </div>
        <div class="card-right">
          <a class="btn" href="{{ url_for('edit_contact', contact_id=c['id']) }}">Edit</a>

          <form method="POST" action="{{ url_for('delete_contact', contact_id=c['id']) }}" class="inline-form"
                onsubmit="return confirmDelete('{{ c['name'] }}')">
            <button class="btn danger" type="submit">Delete</button>
          </form>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p>No contacts found. Add a contact to get started.</p>
{% endif %}
{% endblock %}
